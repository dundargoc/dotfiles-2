#!/bin/bash

if [ -z "$1" ]; then
    GH_USER=$(git remote -v | grep $(git config branch.master.remote) | grep fetch | cut -d':' -f2 | cut -d '/' -f1)
else
    GH_USER=$1
fi

echo "select target branch"
TARGET_BRANCH=$(git branch | grep -v '^*' | awk '{print($1)}' | tmenu -l 15)
gh pull-request -b $TARGET_BRANCH -h $GH_USER:$(git rev-parse --abbrev-ref HEAD)
